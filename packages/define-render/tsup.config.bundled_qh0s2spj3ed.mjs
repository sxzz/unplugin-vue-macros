// ../../tsup.config.ts
import { readFile } from "node:fs/promises";
import { defineConfig } from "tsup";
var rawRE = /[&?]raw(?:&|$)/;
var EsbuildRawPlugin = {
  name: "raw-plugin",
  setup(build) {
    build.onLoad({ filter: /.*/ }, async ({ path, suffix }) => {
      if (!rawRE.test(suffix))
        return;
      return {
        contents: `export default ${JSON.stringify(
          await readFile(path, "utf-8")
        )}`
      };
    });
  }
};
var tsup_config_default = defineConfig({
  entry: ["./src/*.ts"],
  format: ["cjs", "esm"],
  target: "node14",
  splitting: true,
  watch: !!process.env.DEV,
  dts: process.env.DEV ? false : {
    compilerOptions: {
      composite: false,
      customConditions: []
    }
  },
  tsconfig: "../../tsconfig.lib.json",
  clean: true,
  define: {
    "import.meta.DEV": JSON.stringify(!!process.env.DEV)
  },
  esbuildPlugins: [EsbuildRawPlugin]
});
export {
  tsup_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vdHN1cC5jb25maWcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9faW5qZWN0ZWRfZmlsZW5hbWVfXyA9IFwiL1VzZXJzL2FsZXgvY29kZS9jb250cmlidXRpb24vdW5wbHVnaW4tdnVlLW1hY3Jvcy90c3VwLmNvbmZpZy50c1wiO2NvbnN0IF9faW5qZWN0ZWRfZGlybmFtZV9fID0gXCIvVXNlcnMvYWxleC9jb2RlL2NvbnRyaWJ1dGlvbi91bnBsdWdpbi12dWUtbWFjcm9zXCI7Y29uc3QgX19pbmplY3RlZF9pbXBvcnRfbWV0YV91cmxfXyA9IFwiZmlsZTovLy9Vc2Vycy9hbGV4L2NvZGUvY29udHJpYnV0aW9uL3VucGx1Z2luLXZ1ZS1tYWNyb3MvdHN1cC5jb25maWcudHNcIjtpbXBvcnQgeyByZWFkRmlsZSB9IGZyb20gJ25vZGU6ZnMvcHJvbWlzZXMnXG5pbXBvcnQgeyBkZWZpbmVDb25maWcgfSBmcm9tICd0c3VwJ1xuaW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICdlc2J1aWxkJ1xuXG5jb25zdCByYXdSRSA9IC9bJj9dcmF3KD86JnwkKS9cbmNvbnN0IEVzYnVpbGRSYXdQbHVnaW46IFBsdWdpbiA9IHtcbiAgbmFtZTogJ3Jhdy1wbHVnaW4nLFxuICBzZXR1cChidWlsZCkge1xuICAgIGJ1aWxkLm9uTG9hZCh7IGZpbHRlcjogLy4qLyB9LCBhc3luYyAoeyBwYXRoLCBzdWZmaXggfSkgPT4ge1xuICAgICAgaWYgKCFyYXdSRS50ZXN0KHN1ZmZpeCkpIHJldHVyblxuICAgICAgLy8gcmF3IHF1ZXJ5LCByZWFkIGZpbGUgYW5kIHJldHVybiBhcyBzdHJpbmdcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRlbnRzOiBgZXhwb3J0IGRlZmF1bHQgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBhd2FpdCByZWFkRmlsZShwYXRoLCAndXRmLTgnKVxuICAgICAgICApfWAsXG4gICAgICB9XG4gICAgfSlcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKHtcbiAgZW50cnk6IFsnLi9zcmMvKi50cyddLFxuICBmb3JtYXQ6IFsnY2pzJywgJ2VzbSddLFxuICB0YXJnZXQ6ICdub2RlMTQnLFxuICBzcGxpdHRpbmc6IHRydWUsXG4gIHdhdGNoOiAhIXByb2Nlc3MuZW52LkRFVixcbiAgZHRzOiBwcm9jZXNzLmVudi5ERVZcbiAgICA/IGZhbHNlXG4gICAgOiB7XG4gICAgICAgIGNvbXBpbGVyT3B0aW9uczoge1xuICAgICAgICAgIGNvbXBvc2l0ZTogZmFsc2UsXG4gICAgICAgICAgY3VzdG9tQ29uZGl0aW9uczogW10sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICB0c2NvbmZpZzogJy4uLy4uL3RzY29uZmlnLmxpYi5qc29uJyxcbiAgY2xlYW46IHRydWUsXG4gIGRlZmluZToge1xuICAgICdpbXBvcnQubWV0YS5ERVYnOiBKU09OLnN0cmluZ2lmeSghIXByb2Nlc3MuZW52LkRFViksXG4gIH0sXG4gIGVzYnVpbGRQbHVnaW5zOiBbRXNidWlsZFJhd1BsdWdpbl0sXG59KVxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQUFpUyxTQUFTLGdCQUFnQjtBQUMxVCxTQUFTLG9CQUFvQjtBQUc3QixJQUFNLFFBQVE7QUFDZCxJQUFNLG1CQUEyQjtBQUFBLEVBQy9CLE1BQU07QUFBQSxFQUNOLE1BQU0sT0FBTztBQUNYLFVBQU0sT0FBTyxFQUFFLFFBQVEsS0FBSyxHQUFHLE9BQU8sRUFBRSxNQUFNLE9BQU8sTUFBTTtBQUN6RCxVQUFJLENBQUMsTUFBTSxLQUFLLE1BQU07QUFBRztBQUV6QixhQUFPO0FBQUEsUUFDTCxVQUFVLGtCQUFrQixLQUFLO0FBQUEsVUFDL0IsTUFBTSxTQUFTLE1BQU0sT0FBTztBQUFBLFFBQzlCO0FBQUEsTUFDRjtBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0g7QUFDRjtBQUVBLElBQU8sc0JBQVEsYUFBYTtBQUFBLEVBQzFCLE9BQU8sQ0FBQyxZQUFZO0FBQUEsRUFDcEIsUUFBUSxDQUFDLE9BQU8sS0FBSztBQUFBLEVBQ3JCLFFBQVE7QUFBQSxFQUNSLFdBQVc7QUFBQSxFQUNYLE9BQU8sQ0FBQyxDQUFDLFFBQVEsSUFBSTtBQUFBLEVBQ3JCLEtBQUssUUFBUSxJQUFJLE1BQ2IsUUFDQTtBQUFBLElBQ0UsaUJBQWlCO0FBQUEsTUFDZixXQUFXO0FBQUEsTUFDWCxrQkFBa0IsQ0FBQztBQUFBLElBQ3JCO0FBQUEsRUFDRjtBQUFBLEVBQ0osVUFBVTtBQUFBLEVBQ1YsT0FBTztBQUFBLEVBQ1AsUUFBUTtBQUFBLElBQ04sbUJBQW1CLEtBQUssVUFBVSxDQUFDLENBQUMsUUFBUSxJQUFJLEdBQUc7QUFBQSxFQUNyRDtBQUFBLEVBQ0EsZ0JBQWdCLENBQUMsZ0JBQWdCO0FBQ25DLENBQUM7IiwKICAibmFtZXMiOiBbXQp9Cg==
